Class ReviveHalf : Inventory
{
	default
	{
		XScale 0.15;
		YScale 0.15;
		+Floatbob;
		Inventory.PickupMessage "Found a Revive!";
		Inventory.MaxAmount 10;
		Inventory.pickupSound "pickups/item";
	}
	states
	{
		Spawn:
			HREV A 1;
			Loop;
	}
}

Class ExtraPistol : CustomInventory
{
	default
	{
		+Floatbob;
		Inventory.PickupMessage "Found an extra pistol!";
		Inventory.pickupsound "misc/w_pkup";
	}
	States
	{
		Spawn :
			PIST C 1 Bright
			{
				let player = Gardevoir(players[consoleplayer].mo);
				if (player.countinv("GHAGPistolOverlay") == 4)
				{
					invoker.spawn("RageCandyBar", invoker.pos);
					invoker.destroy();
				}
			}
			Loop;
		Pickup :
			TNT1 A 0
			{
				let player = Gardevoir(players[consoleplayer].mo);
				player.giveInventory("GHAGPistolOverlay", 1);
				player.giveInventory("Clip", 40);
			}
			stop;
	}
}

Class ExtraShotgun : CustomInventory
{
	default
	{
		+Floatbob;
		Inventory.PickupMessage "Found an extra shotgun!";
		Inventory.pickupsound "misc/w_pkup";
	}
	States
	{
		Spawn :
			SHOT A 1 Bright
			{
				let player = Gardevoir(players[consoleplayer].mo);
				if (player.countinv("GHAGShotgunOverlay") == 4)
				{
					invoker.spawn("RageCandyBar", invoker.pos);
					invoker.destroy();
				}
			}
			Loop;
		Pickup :
			TNT1 A 0
			{
				let player = Gardevoir(players[consoleplayer].mo);
				if (player.countinv("GHAGShotgun") == 0) player.giveInventory("GHAGShotgun", 1);
				player.giveInventory("GHAGShotgunOverlay", 1);
				player.giveInventory("Shell", 8);
			}
			stop;
	}
}

Class ExtraPlasma : CustomInventory
{
	default
	{
		+Floatbob;
		Inventory.PickupMessage "Found an extra plasma rifle!";
		Inventory.pickupsound "misc/w_pkup";
	}
	States
	{
		Spawn :
			PLAS A 1 Bright
			{
				let player = Gardevoir(players[consoleplayer].mo);
				if (player.countinv("GHAGPlasmaOverlay") == 4)
				{
					invoker.spawn("RageCandyBar", invoker.pos);
					invoker.destroy();
				}
			}
			Loop;
		Pickup :
			PLAS A 0
			{
				let player = Gardevoir(players[consoleplayer].mo);
				if (player.countinv("GHAGPlasmaRifle") == 0) player.giveInventory("GHAGPlasmaRifle", 1);
				player.giveInventory("GHAGPlasmaOverlay", 1);
				player.giveInventory("Cell", 40);
			}
			stop;
	}
}

Class RageCandyBar : CustomInventory
{
	default
	{
		XScale 0.15;
		YScale 0.15;
		+Floatbob;
		Inventory.PickupMessage "Ate a Rage Candy Bar! Max anger raised!";
		Inventory.pickupsound "pickups/item";
	}

	states
	{
		Spawn:
			RAGE A 1;
			Loop;
		Pickup:
			TNT1 A 0
			{
				if (Gardevoir(players[consoleplayer].mo).RageConstant < 1000)
				{
					Gardevoir(players[consoleplayer].mo).IncreaseAngerRange(20);
				} 
				else 
				{
					Gardevoir(players[consoleplayer].mo).IncreaseAngerRange(10);
				}
			}
			stop;
	}
}